{% extends 'admin/base.html.twig' %}

{% block title %}Product index{% endblock %}
{% block stylesheets %}

    <link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="../bower_components/font-awesome/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="../bower_components/Ionicons/css/ionicons.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="../dist/css/AdminLTE.min.css">
    <!-- AdminLTE Skins. We have chosen the skin-blue for this starter
          page. However, you can choose any other skin. Make sure you
          apply the skin class to the body tag so the changes take effect. -->
    <link rel="stylesheet" href="../dist/css/skins/skin-blue.min.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="../https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="../https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Google Font -->
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
{% endblock %}


{% block content %}
    {% for message in app.flashes('success') %}
        <div class="row mt-3">
            <div class="col">
                <div class="alert alert-success">
                    {{ message }}
                </div>
            </div>
        </div>
    {% endfor %}




    <table class="table">
        <thead>
        <tr>
            <th>Shopcard id</th>
            <th>Product name</th>
            <th>Product number</th>
            <th>Product price</th>


        </tr>
        </thead>
        <tbody>
        {% for shopcard in shopcards %}
            <tr>
                <td>{{ shopcard.id }}</td>
                <td>{{ shopcard.name }}</td>
                <td>{{ shopcard.productnumber }}</td>
                <td>{{ shopcard.productnumber * shopcard.price }} kn</td>

                <td>


                </td>
            </tr>

            {%  set total = total + (shopcard.productnumber * shopcard.price) %}

        {% else %}
            <tr>
                <td colspan="2">no records found</td>
            </tr>
        {% endfor %}

        </tbody>
    </table>
    Total :{{ total }} kn
    <table class="table">
        <thead>
        <tr>
            <th>Adress</th>
            <th>Status</th>
            <th>Update order</th>
            <th>Delete order</th>

        </tr>
        </thead>
        <tbody>
        {% for item in orderedItems %}
            <tr>
                <td>{{ item.adress }}</td>
                <td>{{ item.paid }}</td>
                <td><a href="{{ path('admin_update_order', {id: item.id}) }}" class="btn btn-primary">Update order</a></td>

            </tr>

        {% endfor %}

        </tbody>
    </table>

{% endblock %}
